<h1>Gestión Usuarios</h1>

@if (abrirModal()) {
    <div class="fixed inset-0 bg-gray-0 bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-blue-200 rounded-lg shadow-xl w-full max-w-md p-6">
            <form [formGroup]="userForm" class="bg-white p-6 rounded-xl shadow-xl max-w-md space-y-4">
                <div>
                    <label for="">Ingrese Nombre</label>
                    <input type="text" formControlName="username" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                </div>
            
                <div>
                    <label for="">Ingrese Correo</label>
                    <input type="email" formControlName="email" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                </div>
            
                <div>
                    <label for="">Ingrese Contraseña</label>
                    <input type="password" formControlName="password" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                </div>
             
               
            
                <button (click)="guardarUser()" class="bg-blue-500 px-4 py-2 rounded-lg hover:bg-blue-600 text-white">Registrar Usuario</button>
                <button (click)="cerrarModalDialog()" class="text-white hover:text-gray-800 bg-gray-500 px-4 py-2 rounded">Cerrar</button>

            </form>
        
        </div>
        <button (click)="cerrarModalDialog()" class="absolute top-2 right-2 text-gray-600 bg-red-500 hover:text-gray-800">X</button>
    </div>

}


<button (click)="abrirModalDialog()" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md">Nuevo Usuario</button>
<div class="mt-8 overflow-x-auto">
    <table class="min-w-full border border-gray-300 rounded-lg overflow-hidden">
        <thead class="bg-gray-100">
            <tr>
                <th class="px-4 py-2 border">ID</th>
                <th class="px-4 py-2 border">NOMBRE</th>
                <th class="px-4 py-2 border">CORREO</th>
                <th class="px-4 py-2 border">ACCION</th>
            </tr>
        </thead>
        <tbody>
            @for (user of usuarios(); track $index) {
                <tr>
                    <td class="px-4 py-2 border">{{ $index + 1 }}</td>
                    <td class="px-4 py-2 border">{{ user.username }}</td>
                    <td class="px-4 py-2 border">{{ user.email }}</td>
                    <td class="px-4 py-2 border">
                        <button (click)="funEditar(user)" class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded">Editar</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>

</div>